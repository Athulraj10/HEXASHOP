<%-include('../layouts/adminheader.ejs')%>

    <div class="container">
      <div class="row" >
        <div class="col-xl-9 col-lg-12 col-md-12 col-sm-12">
          <div class="tm-bg-primary-dark tm-block tm-block-h-auto">
            <div class="col">
              <div class="col-12 d-inline-block">
                <h1 class="tm-block-title d-inline-block" style="margin-top: 100px;width:400px;">Edit Product</h1>
              </div>
            </div>
            <div class="row tm-edit-product-row m-2">
              <div class="col-xl-6 col-lg-6 col-md-12">
                <form action="/admin/editProduct" method="post" class="tm-edit-product-form" enctype="multipart/form-data">
                  <div class="form-group mb-3">
                    <label
                      for="name"
                      >Current Product title
                    </label>
                    <input
                      id="productName"
                      name="productName"
                      value="<%= model.productName %>"
                      type="text"
                      class="form-control validate"
                      required
                    />
                  </div>
                  <div class="form-group mb-3">
                    <label
                      for="description"
                      >Current Description</label
                    >
                    <textarea
                      class="form-control validate"
                      rows="3"
                      name="productDes"
                      required><%= model.productDescription || 'Default Value' %></textarea>
                  </div>
                  
                  <div class="form-group mb-3">
                    <label
                      for="name"
                      >Current Product Size
                    </label>
                    <input
                      id="productSize"
                      name="productSize"
                      value="<%= model.productSize %>"
                      type="text"
                      class="form-control validate"
                      required
                    />
                  </div>
                  
                  <div class="form-group mb-3">
                    <label
                      for="productColor"
                      >Current Product Color
                    </label>
                    <input
                      id="productName"
                      name="productColor"
                      type="text"
                      value="<%= model.productColor %>"
                      class="form-control validate"
                      required
                    />
                  </div>

                  <div class="form-group mb-3">
                    <label
                      for="name"
                      >Current Product Price
                    </label>
                    <input
                      id="productName"
                      name="price"
                      value="<%= model.price %>"
                      type="text"
                      class="form-control validate"
                      required
                    />
                  </div>

                  <div class="form-group mb-3 col-xs-12 col-sm-6">
                    <label
                      for="stock"
                      >Current Stock
                    </label>
                    <input
                      id="stock"
                      name="productQuantity"
                      type="text"
                      value="<%= model.productQuantity%>"
                      class="form-control validate"
                      required/>
                  </div>
                    

                  <div class="form-group mb-3">
                    <label for="category">Current Category</label>
                    <select class="custom-select tm-select-accounts" id="category" name="category_id">
                      <option value="">Select category</option>
                      <% category.forEach(function(category) { %>
                        <option value="<%= category._id.toString() %>" <%= category._id.toString() === model.category_id.toString() ? 'selected' : '' %>><%= category.categoryName %></option>
                      <% }) %>
                    </select>
                  </div>
                  
                   <div style="margin: 20px;">
                    <td >
                      <h5 style="color: rgba(199, 209, 219, 0.903);text-align: left;">Current Image</h5>
                      <% model.productImage.forEach(function(image, index) { %> 
                          <img src="/upload/<%= image %>" style="border-radius: 5px;margin:2px ; width: 50px; height: 50px;" >
                      <% }) %></td>
                   </div>
                   
                  </div>
                  
                  <div class="form-group mb-3 col-9">
                    <label for="productImage" class="m-0 p-0">Add New Product Image(s)</label>
                    <div class="custom-file mt-3 mb-3" style="width: 400px;">
                      <label class="custom-file-label" for="productImage">Choose Product Image(s)</label>
                      <input id="productImage" name="productImage" multiple type="file" class="custom-file-input"
                      onchange="document.getElementById('productImageText').value = this.files.length+'file(s) selected'" />
                    </div>
                    </div>
      <div>
        <input type="hidden" name="id" value="<%= model._id%>">
      </div>
      <div class="col-6" style="height: 100px;" >
        <button type="submit" class="btn btn-primary btn-block text-uppercase" style="height: 50px;">Submit Product Now</button>
       </div>
    </div>
  </form>
  <script>
    $(function () {
      $("#expire_date").datepicker();
    });
  </script>

    <script src="js/jquery-3.3.1.min.js"></script>
    <script src="jquery-ui-datepicker/jquery-ui.min.js"></script>
   
    <script src="js/bootstrap.min.js"></script>

  </body>
</html>
